!function(t,e){if("object"==typeof exports&&"object"==typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var n=e();for(var i in n)("object"==typeof exports?exports:t)[i]=n[i]}}(window,(function(){return function(t){var e={};function n(i){if(e[i])return e[i].exports;var r=e[i]={i:i,l:!1,exports:{}};return t[i].call(r.exports,r,r.exports,n),r.l=!0,r.exports}return n.m=t,n.c=e,n.d=function(t,e,i){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)n.d(i,r,function(e){return t[e]}.bind(null,r));return i},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=6)}([function(t,e,n){"use strict";var i=this&&this.__awaiter||function(t,e,n,i){return new(n||(n=Promise))((function(r,s){function o(t){try{c(i.next(t))}catch(t){s(t)}}function u(t){try{c(i.throw(t))}catch(t){s(t)}}function c(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(o,u)}c((i=i.apply(t,e||[])).next())}))};Object.defineProperty(e,"__esModule",{value:!0}),e.BaseEndpoint=void 0;const r=n(1);e.BaseEndpoint=class{constructor(t,e){this.apiKey=t,this.baseUrl=e}getApiKey(){return this.apiKey}get(t,e={}){return i(this,void 0,void 0,(function*(){try{const n=yield fetch(this.baseUrl+t,Object.assign({method:"GET"},this.getOptions(e))),i=n;return n.body&&(i.data=yield n.json()),i}catch(t){console.error(t)}}))}post(t,e={}){return i(this,void 0,void 0,(function*(){try{const n=yield fetch(this.baseUrl+t,Object.assign({method:"POST"},this.getOptions(e))),i=n;return n.body&&(i.data=yield n.json()),i}catch(t){console.error(t)}}))}getOptions(t={}){return{headers:Object.assign({"content-type":"application/json; charset=UTF-8",[r.Config.headers.apiKey]:this.getApiKey()},t.headers),body:JSON.stringify(t.data)}}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Config=void 0;class i{}e.Config=i,i.baseUrl="https://api.needletail.io/3.0/",i.headers={apiKey:"x-needletail-api-key"}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Bucket=void 0;const i=n(4),r=n(3);class s extends r.BaseEntity{setName(t){return this.name=t,this}getName(){return this.name}setShowScore(t){return this.showScore=t,this}isShowScore(){return this.showScore}setDocumentCount(t){return this.documentCount=t,this}getDocumentCount(){return this.documentCount}setSearchableAttributes(t){return this.searchableAttributes=t,this}getSearchableAttributes(){return this.searchableAttributes}setRetrievableAttributes(t){return this.retrievableAttributes=t,this}getRetrievableAttributes(){return this.retrievableAttributes}setGroupBy(t){return this.groupBy=t,this}getGroupBy(){return this.groupBy}setAttributes(t){return this.attributes=t,this}getAttributes(){return this.attributes}setBoosts(t){return this.boosts=t,this}getBoosts(){return this.boosts}synonyms(){return new i.Synonyms(this.getApiKey(),this,this.getBaseUrl())}alternatives(){return new i.Alternatives(this.getApiKey(),this,this.getBaseUrl())}setBaseUrl(t){return this.baseUrl=t,this}getBaseUrl(){return this.baseUrl}}e.Bucket=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BaseEntity=void 0;e.BaseEntity=class{setApiKey(t){return this.apiKey=t,this}getApiKey(){if(!this.apiKey)throw new Error("API key not set");return this.apiKey}}},function(t,e,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(t,e,n,i){void 0===i&&(i=n),Object.defineProperty(t,i,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,i){void 0===i&&(i=n),t[i]=e[n]}),r=this&&this.__exportStar||function(t,e){for(var n in t)"default"===n||Object.prototype.hasOwnProperty.call(e,n)||i(e,t,n)};Object.defineProperty(e,"__esModule",{value:!0}),r(n(9),e),r(n(12),e),r(n(13),e),r(n(14),e),r(n(15),e)},function(t,e,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(t,e,n,i){void 0===i&&(i=n),Object.defineProperty(t,i,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,i){void 0===i&&(i=n),t[i]=e[n]}),r=this&&this.__exportStar||function(t,e){for(var n in t)"default"===n||Object.prototype.hasOwnProperty.call(e,n)||i(e,t,n)};Object.defineProperty(e,"__esModule",{value:!0}),r(n(2),e),r(n(10),e),r(n(11),e)},function(t,e,n){t.exports=n(7)},function(t,e,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(t,e,n,i){void 0===i&&(i=n),Object.defineProperty(t,i,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,i){void 0===i&&(i=n),t[i]=e[n]}),r=this&&this.__exportStar||function(t,e){for(var n in t)"default"===n||Object.prototype.hasOwnProperty.call(e,n)||i(e,t,n)};Object.defineProperty(e,"__esModule",{value:!0}),r(n(8),e),r(n(1),e),r(n(16),e),r(n(18),e),r(n(22),e)},function(t,e,n){"use strict";var i=this&&this.__awaiter||function(t,e,n,i){return new(n||(n=Promise))((function(r,s){function o(t){try{c(i.next(t))}catch(t){s(t)}}function u(t){try{c(i.throw(t))}catch(t){s(t)}}function c(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(o,u)}c((i=i.apply(t,e||[])).next())}))};Object.defineProperty(e,"__esModule",{value:!0}),e.Client=void 0;const r=n(4),s=n(2),o=n(1);e.Client=class{constructor(t,e){this.readKey=t,this.baseUrl=null!=e?e:o.Config.baseUrl}bulk(t){return i(this,void 0,void 0,(function*(){return yield new r.BulkSearch(this.getReadKey(),this.baseUrl).find(t)}))}search(t){return i(this,void 0,void 0,(function*(){return yield new r.Search(this.getReadKey(),this.baseUrl).find(t)}))}buckets(){return new r.Buckets(this.getReadKey(),this.baseUrl)}alternatives(t){const e=new s.Bucket;return e.setApiKey(this.getReadKey()).setName(t),e.alternatives()}synonyms(t){const e=new s.Bucket;return e.setApiKey(this.getReadKey()).setName(t),e.synonyms()}getReadKey(){return this.readKey}}},function(t,e,n){"use strict";var i=this&&this.__awaiter||function(t,e,n,i){return new(n||(n=Promise))((function(r,s){function o(t){try{c(i.next(t))}catch(t){s(t)}}function u(t){try{c(i.throw(t))}catch(t){s(t)}}function c(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(o,u)}c((i=i.apply(t,e||[])).next())}))};Object.defineProperty(e,"__esModule",{value:!0}),e.Alternatives=void 0;const r=n(0),s=n(5);class o extends r.BaseEndpoint{constructor(t,e,n){super(t,n),this.bucket=e}all(){return i(this,void 0,void 0,(function*(){const t=yield this.get(`buckets/${this.bucket.getName()}/alternatives`),e=[];return t.forEach(t=>{e.push(this.toEntity(t))}),e}))}find(t){return i(this,void 0,void 0,(function*(){const e=yield this.get(`buckets/${this.bucket.getName()}/alternatives/${t}`);return this.toEntity(e)}))}toEntity(t){return(new s.Alternative).setApiKey(this.getApiKey()).setId(t.id).setOriginalWord(t.original_word).setAlternativeWords(t.alternative_words)}}e.Alternatives=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Synonym=void 0;const i=n(3);class r extends i.BaseEntity{setBucket(t){return this.bucket=t,this}getBucket(){return this.bucket}setId(t){return this.id=t,this}getId(){return this.id}setWords(t){return this.words=t,this}getWords(){return this.words}}e.Synonym=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Alternative=void 0;const i=n(3);class r extends i.BaseEntity{setBucket(t){return this.bucket=t,this}getBucket(){return this.bucket}setId(t){return this.id=t,this}getId(){return this.id}setOriginalWord(t){return this.originalWord=t,this}getOriginalWord(){return this.originalWord}setAlternativeWords(t){return this.alternativeWords=t,this}getAlternativeWords(){return this.alternativeWords}}e.Alternative=r},function(t,e,n){"use strict";var i=this&&this.__awaiter||function(t,e,n,i){return new(n||(n=Promise))((function(r,s){function o(t){try{c(i.next(t))}catch(t){s(t)}}function u(t){try{c(i.throw(t))}catch(t){s(t)}}function c(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(o,u)}c((i=i.apply(t,e||[])).next())}))};Object.defineProperty(e,"__esModule",{value:!0}),e.Buckets=void 0;const r=n(0),s=n(2);class o extends r.BaseEndpoint{all(){return i(this,void 0,void 0,(function*(){const t=yield this.get("buckets"),e=[];return t.forEach(t=>{e.push(this.toEntity(t))}),e}))}find(t){return i(this,void 0,void 0,(function*(){const e=yield this.get("buckets/"+t);return this.toEntity(e)}))}toEntity(t){return(new s.Bucket).setApiKey(this.getApiKey()).setName(t.name).setShowScore(t.show_score).setDocumentCount(t.document_count).setSearchableAttributes(t.searchable_attributes).setRetrievableAttributes(t.retrievable_attributes).setGroupBy(t.group_by).setAttributes(t.attributes).setBoosts(t.boosts)}}e.Buckets=o},function(t,e,n){"use strict";var i=this&&this.__awaiter||function(t,e,n,i){return new(n||(n=Promise))((function(r,s){function o(t){try{c(i.next(t))}catch(t){s(t)}}function u(t){try{c(i.throw(t))}catch(t){s(t)}}function c(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(o,u)}c((i=i.apply(t,e||[])).next())}))};Object.defineProperty(e,"__esModule",{value:!0}),e.Synonyms=void 0;const r=n(0),s=n(5);class o extends r.BaseEndpoint{constructor(t,e,n){super(t,n),this.bucket=e}all(){return i(this,void 0,void 0,(function*(){const t=yield this.get(`buckets/${this.bucket.getName()}/synonyms`),e=[];return t.forEach(t=>{e.push(this.toEntity(t))}),e}))}find(t){return i(this,void 0,void 0,(function*(){const e=yield this.get(`buckets/${this.bucket.getName()}/synonyms/${t}`);return this.toEntity(e)}))}toEntity(t){return(new s.Synonym).setApiKey(this.getApiKey()).setId(t.id).setWords(t.words)}}e.Synonyms=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BulkSearch=void 0;const i=n(0);class r extends i.BaseEndpoint{find(t){return this.post("search/bulk",{data:t})}}e.BulkSearch=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Search=void 0;const i=n(0);class r extends i.BaseEndpoint{find(t){return this.post("search",{data:t})}}e.Search=r},function(t,e,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(t,e,n,i){void 0===i&&(i=n),Object.defineProperty(t,i,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,i){void 0===i&&(i=n),t[i]=e[n]}),r=this&&this.__exportStar||function(t,e){for(var n in t)"default"===n||Object.prototype.hasOwnProperty.call(e,n)||i(e,t,n)};Object.defineProperty(e,"__esModule",{value:!0}),r(n(17),e)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.geoPoint=void 0,e.geoPoint=function(t,e,n){return{geo_point:{lat:t,lng:e,distance:n}}}},function(t,e,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(t,e,n,i){void 0===i&&(i=n),Object.defineProperty(t,i,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,i){void 0===i&&(i=n),t[i]=e[n]}),r=this&&this.__exportStar||function(t,e){for(var n in t)"default"===n||Object.prototype.hasOwnProperty.call(e,n)||i(e,t,n)};Object.defineProperty(e,"__esModule",{value:!0}),r(n(19),e),r(n(20),e),r(n(21),e)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.equals=void 0,e.equals=function(t={}){return{equals:t}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.notEquals=void 0,e.notEquals=function(t={}){return{not_equals:t}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.should=void 0,e.should=function(t={}){return{should:t}}},function(t,e,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(t,e,n,i){void 0===i&&(i=n),Object.defineProperty(t,i,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,i){void 0===i&&(i=n),t[i]=e[n]}),r=this&&this.__exportStar||function(t,e){for(var n in t)"default"===n||Object.prototype.hasOwnProperty.call(e,n)||i(e,t,n)};Object.defineProperty(e,"__esModule",{value:!0}),r(n(23),e),r(n(24),e),r(n(25),e),r(n(26),e),r(n(27),e),r(n(28),e),r(n(29),e)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.field=void 0,e.field=function(t){return{field:{field:t}}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.fuzzy=void 0,e.fuzzy=function(t,e){return{fuzzy:{field:t,value:e}}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.like=void 0,e.like=function(t,e){return{like:{fields:"string"==typeof t?[t]:t,value:e}}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.match=void 0,e.match=function(t,e){return{match:{field:t,values:"string"==typeof e?[e]:e}}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.range=void 0,e.range=function(t,e,n){return{range:{field:t,gte:e,lte:n}}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.regex=void 0,e.regex=function(t,e){return{regex:{field:t,value:e}}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.startsWith=void 0,e.startsWith=function(t,e){return{starts_with:{field:t,value:e}}}}])}));